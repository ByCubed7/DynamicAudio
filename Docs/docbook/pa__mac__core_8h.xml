<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_pa__mac__core_8h" xml:lang="en-US">
<title>packages/portaudio.0.19.1/build/native/include/pa_mac_core.h File Reference</title>
<indexterm><primary>packages/portaudio.0.19.1/build/native/include/pa_mac_core.h</primary></indexterm>
<para>

<para>CoreAudio-specific PortAudio API extension header file. </para>
 
</para>
<programlisting linenumbering="unnumbered">#include &quot;portaudio.h&quot;<?linebreak?>#include &lt;AudioUnit/AudioUnit.h&gt;<?linebreak?>#include &lt;AudioToolbox/AudioToolbox.h&gt;<?linebreak?></programlisting><simplesect>
    <title>Classes    </title>
        <itemizedlist>
            <listitem><para>struct <link linkend="_struct_pa_mac_core_stream_info">PaMacCoreStreamInfo</link></para>
</listitem>
        </itemizedlist>
</simplesect>
<simplesect>
    <title>Macros    </title>
        <itemizedlist>
            <listitem><para>#define <link linkend="_pa__mac__core_8h_1a0a803427bdba498922276075677d0ebe">paMacCoreChangeDeviceParameters</link>&#160;&#160;&#160;(0x01)</para>
</listitem>
            <listitem><para>#define <link linkend="_pa__mac__core_8h_1a481969bad982aec7ba2b8503557533c7">paMacCoreFailIfConversionRequired</link>&#160;&#160;&#160;(0x02)</para>
</listitem>
            <listitem><para>#define <link linkend="_pa__mac__core_8h_1a65d6a0307a5b231ef673a52e72e0d680">paMacCoreConversionQualityMin</link>&#160;&#160;&#160;(0x0100)</para>
</listitem>
            <listitem><para><anchor xml:id="_pa__mac__core_8h_1a9143937b271beb0b171a1eaec6c415cd"/>#define <emphasis role="strong">paMacCoreConversionQualityMedium</emphasis>&#160;&#160;&#160;(0x0200)</para>
</listitem>
            <listitem><para><anchor xml:id="_pa__mac__core_8h_1a5693eb74b0a2c2f3121f18f09c2dc632"/>#define <emphasis role="strong">paMacCoreConversionQualityLow</emphasis>&#160;&#160;&#160;(0x0300)</para>
</listitem>
            <listitem><para><anchor xml:id="_pa__mac__core_8h_1a64146a265a9bb8426884caa1db31d004"/>#define <emphasis role="strong">paMacCoreConversionQualityHigh</emphasis>&#160;&#160;&#160;(0x0400)</para>
</listitem>
            <listitem><para><anchor xml:id="_pa__mac__core_8h_1a0a00067c7f90d4802b855728cefd6002"/>#define <emphasis role="strong">paMacCoreConversionQualityMax</emphasis>&#160;&#160;&#160;(0x0000)</para>
</listitem>
            <listitem><para>#define <link linkend="_pa__mac__core_8h_1a223d2f56bd0a5964e4122c80b23e6f62">paMacCorePlayNice</link>&#160;&#160;&#160;(0x00)</para>
</listitem>
            <listitem><para>#define <link linkend="_pa__mac__core_8h_1abec61ce0294900be890928cd0907bcf6">paMacCorePro</link>&#160;&#160;&#160;(0x01)</para>
</listitem>
            <listitem><para>#define <link linkend="_pa__mac__core_8h_1ac589bfdf9e35134552737b4b97253729">paMacCoreMinimizeCPUButPlayNice</link>&#160;&#160;&#160;(0x0100)</para>
</listitem>
            <listitem><para>#define <link linkend="_pa__mac__core_8h_1ad37d299e9a15db20d3ef04ed12ffbddd">paMacCoreMinimizeCPU</link>&#160;&#160;&#160;(0x0101)</para>
</listitem>
        </itemizedlist>
</simplesect>
<simplesect>
    <title>Functions    </title>
        <itemizedlist>
            <listitem><para>void <link linkend="_pa__mac__core_8h_1a7fa54d8ad032394157bdb67c9b13087d">PaMacCore_SetupStreamInfo</link> (<link linkend="_struct_pa_mac_core_stream_info">PaMacCoreStreamInfo</link> *data, unsigned long flags)</para>
</listitem>
            <listitem><para>void <link linkend="_pa__mac__core_8h_1abc811b4cd7b56e5e5d4b4613a49d9356">PaMacCore_SetupChannelMap</link> (<link linkend="_struct_pa_mac_core_stream_info">PaMacCoreStreamInfo</link> *data, const SInt32 *const channelMap, unsigned long channelMapSize)</para>
</listitem>
            <listitem><para>AudioDeviceID <link linkend="_pa__mac__core_8h_1ad1631115a64682f8e14fadd0a75c027f">PaMacCore_GetStreamInputDevice</link> (<link linkend="_portaudio_8h_1a19874734f89958fccf86785490d53b4c">PaStream</link> *s)</para>
</listitem>
            <listitem><para>AudioDeviceID <link linkend="_pa__mac__core_8h_1a25379f181725095041d159e3bdc8cd8c">PaMacCore_GetStreamOutputDevice</link> (<link linkend="_portaudio_8h_1a19874734f89958fccf86785490d53b4c">PaStream</link> *s)</para>
</listitem>
            <listitem><para>const char * <link linkend="_pa__mac__core_8h_1ad96583c722e0fa8d6017b5878d90d8fd">PaMacCore_GetChannelName</link> (int device, int channelIndex, bool input)</para>
</listitem>
            <listitem><para><link linkend="_portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d">PaError</link> <link linkend="_pa__mac__core_8h_1aa470cfe0a7a53a6bc7eab4b18f670d31">PaMacCore_GetBufferSizeRange</link> (<link linkend="_portaudio_8h_1ad79317e65bde63d76c4b8e711ac5a361">PaDeviceIndex</link> device, long *minBufferSizeFrames, long *maxBufferSizeFrames)</para>
</listitem>
        </itemizedlist>
</simplesect>
<section>
<title>Detailed Description</title>

<para>CoreAudio-specific PortAudio API extension header file. </para>
</section>
<section>
<title>Macro Definition Documentation</title>
<anchor xml:id="_pa__mac__core_8h_1a0a803427bdba498922276075677d0ebe"/><section>
    <title>paMacCoreChangeDeviceParameters</title>
<indexterm><primary>paMacCoreChangeDeviceParameters</primary><secondary>pa_mac_core.h</secondary></indexterm>
<indexterm><primary>pa_mac_core.h</primary><secondary>paMacCoreChangeDeviceParameters</secondary></indexterm>
<para><computeroutput>#define paMacCoreChangeDeviceParameters&#160;&#160;&#160;(0x01)</computeroutput></para>
<para>Flags The following flags alter the behaviour of PA on the mac platform. they can be ORed together. These should work both for opening and checking a device. Allows PortAudio to change things like the device&apos;s frame size, which allows for much lower latency, but might disrupt the device if other programs are using it, even when you are just Querying the device. </para>
</section>
<anchor xml:id="_pa__mac__core_8h_1a65d6a0307a5b231ef673a52e72e0d680"/><section>
    <title>paMacCoreConversionQualityMin</title>
<indexterm><primary>paMacCoreConversionQualityMin</primary><secondary>pa_mac_core.h</secondary></indexterm>
<indexterm><primary>pa_mac_core.h</primary><secondary>paMacCoreConversionQualityMin</secondary></indexterm>
<para><computeroutput>#define paMacCoreConversionQualityMin&#160;&#160;&#160;(0x0100)</computeroutput></para>
<para>These flags set the SR conversion quality, if required. The wierd ordering allows Maximum Quality to be the default. </para>
</section>
<anchor xml:id="_pa__mac__core_8h_1a481969bad982aec7ba2b8503557533c7"/><section>
    <title>paMacCoreFailIfConversionRequired</title>
<indexterm><primary>paMacCoreFailIfConversionRequired</primary><secondary>pa_mac_core.h</secondary></indexterm>
<indexterm><primary>pa_mac_core.h</primary><secondary>paMacCoreFailIfConversionRequired</secondary></indexterm>
<para><computeroutput>#define paMacCoreFailIfConversionRequired&#160;&#160;&#160;(0x02)</computeroutput></para>
<para>In combination with the above flag, causes the stream opening to fail, unless the exact sample rates are supported by the device. </para>
</section>
<anchor xml:id="_pa__mac__core_8h_1ad37d299e9a15db20d3ef04ed12ffbddd"/><section>
    <title>paMacCoreMinimizeCPU</title>
<indexterm><primary>paMacCoreMinimizeCPU</primary><secondary>pa_mac_core.h</secondary></indexterm>
<indexterm><primary>pa_mac_core.h</primary><secondary>paMacCoreMinimizeCPU</secondary></indexterm>
<para><computeroutput>#define paMacCoreMinimizeCPU&#160;&#160;&#160;(0x0101)</computeroutput></para>
<para>This is a setting to minimize CPU usage, even if that means interrupting the device. </para>
</section>
<anchor xml:id="_pa__mac__core_8h_1ac589bfdf9e35134552737b4b97253729"/><section>
    <title>paMacCoreMinimizeCPUButPlayNice</title>
<indexterm><primary>paMacCoreMinimizeCPUButPlayNice</primary><secondary>pa_mac_core.h</secondary></indexterm>
<indexterm><primary>pa_mac_core.h</primary><secondary>paMacCoreMinimizeCPUButPlayNice</secondary></indexterm>
<para><computeroutput>#define paMacCoreMinimizeCPUButPlayNice&#160;&#160;&#160;(0x0100)</computeroutput></para>
<para>This is a setting to minimize CPU usage and still play nice. </para>
</section>
<anchor xml:id="_pa__mac__core_8h_1a223d2f56bd0a5964e4122c80b23e6f62"/><section>
    <title>paMacCorePlayNice</title>
<indexterm><primary>paMacCorePlayNice</primary><secondary>pa_mac_core.h</secondary></indexterm>
<indexterm><primary>pa_mac_core.h</primary><secondary>paMacCorePlayNice</secondary></indexterm>
<para><computeroutput>#define paMacCorePlayNice&#160;&#160;&#160;(0x00)</computeroutput></para>
<para>Here are some &quot;preset&quot; combinations of flags (above) to get to some common configurations. THIS IS OVERKILL, but if more flags are added it won&apos;t be. This is the default setting: do as much sample rate conversion as possible and as little mucking with the device as possible. </para>
</section>
<anchor xml:id="_pa__mac__core_8h_1abec61ce0294900be890928cd0907bcf6"/><section>
    <title>paMacCorePro</title>
<indexterm><primary>paMacCorePro</primary><secondary>pa_mac_core.h</secondary></indexterm>
<indexterm><primary>pa_mac_core.h</primary><secondary>paMacCorePro</secondary></indexterm>
<para><computeroutput>#define paMacCorePro&#160;&#160;&#160;(0x01)</computeroutput></para>
<para>This setting is tuned for pro audio apps. It allows SR conversion on input and output, but it tries to set the appropriate SR on the device. </para>
</section>
</section>
<section>
<title>Function Documentation</title>
<anchor xml:id="_pa__mac__core_8h_1aa470cfe0a7a53a6bc7eab4b18f670d31"/><section>
    <title>PaMacCore_GetBufferSizeRange()</title>
<indexterm><primary>PaMacCore_GetBufferSizeRange</primary><secondary>pa_mac_core.h</secondary></indexterm>
<indexterm><primary>pa_mac_core.h</primary><secondary>PaMacCore_GetBufferSizeRange</secondary></indexterm>
<para><computeroutput><link linkend="_portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d">PaError</link> PaMacCore_GetBufferSizeRange (<link linkend="_portaudio_8h_1ad79317e65bde63d76c4b8e711ac5a361">PaDeviceIndex</link> device, long * minBufferSizeFrames, long * maxBufferSizeFrames)</computeroutput></para>
<para>Retrieve the range of legal native buffer sizes for the specificed device, in sample frames.</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>device</entry><entry>
<para>The global index of the PortAudio device about which the query is being made. </para>
</entry>
                            </row>
                            <row>
<entry>minBufferSizeFrames</entry><entry>
<para>A pointer to the location which will receive the minimum buffer size value. </para>
</entry>
                            </row>
                            <row>
<entry>maxBufferSizeFrames</entry><entry>
<para>A pointer to the location which will receive the maximum buffer size value.</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>See also</title>

<para>kAudioDevicePropertyBufferFrameSizeRange in the CoreAudio SDK. </para>
</formalpara>
</para>
</section>
<anchor xml:id="_pa__mac__core_8h_1ad96583c722e0fa8d6017b5878d90d8fd"/><section>
    <title>PaMacCore_GetChannelName()</title>
<indexterm><primary>PaMacCore_GetChannelName</primary><secondary>pa_mac_core.h</secondary></indexterm>
<indexterm><primary>pa_mac_core.h</primary><secondary>PaMacCore_GetChannelName</secondary></indexterm>
<para><computeroutput>const char * PaMacCore_GetChannelName (int device, int channelIndex, bool input)</computeroutput></para>
<para>Returns a statically allocated string with the device&apos;s name for the given channel. NULL will be returned on failure.</para>

<para>This function&apos;s implemenation is not complete!</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>device</entry><entry>
<para>The PortAudio device index. </para>
</entry>
                            </row>
                            <row>
<entry>channel</entry><entry>
<para>The channel number who&apos;s name is requested. </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>a statically allocated string with the name of the device. Because this string is statically allocated, it must be coppied if it is to be saved and used by the user after another call to this function. </para>
</formalpara>
</para>
</section>
<anchor xml:id="_pa__mac__core_8h_1ad1631115a64682f8e14fadd0a75c027f"/><section>
    <title>PaMacCore_GetStreamInputDevice()</title>
<indexterm><primary>PaMacCore_GetStreamInputDevice</primary><secondary>pa_mac_core.h</secondary></indexterm>
<indexterm><primary>pa_mac_core.h</primary><secondary>PaMacCore_GetStreamInputDevice</secondary></indexterm>
<para><computeroutput>AudioDeviceID PaMacCore_GetStreamInputDevice (<link linkend="_portaudio_8h_1a19874734f89958fccf86785490d53b4c">PaStream</link> * s)</computeroutput></para>
<para>Retrieve the AudioDeviceID of the input device assigned to an open stream</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>s</entry><entry>
<para>The stream to query.</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>A valid AudioDeviceID, or NULL if an error occurred. </para>
</formalpara>
</para>
</section>
<anchor xml:id="_pa__mac__core_8h_1a25379f181725095041d159e3bdc8cd8c"/><section>
    <title>PaMacCore_GetStreamOutputDevice()</title>
<indexterm><primary>PaMacCore_GetStreamOutputDevice</primary><secondary>pa_mac_core.h</secondary></indexterm>
<indexterm><primary>pa_mac_core.h</primary><secondary>PaMacCore_GetStreamOutputDevice</secondary></indexterm>
<para><computeroutput>AudioDeviceID PaMacCore_GetStreamOutputDevice (<link linkend="_portaudio_8h_1a19874734f89958fccf86785490d53b4c">PaStream</link> * s)</computeroutput></para>
<para>Retrieve the AudioDeviceID of the output device assigned to an open stream</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>s</entry><entry>
<para>The stream to query.</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>A valid AudioDeviceID, or NULL if an error occurred. </para>
</formalpara>
</para>
</section>
<anchor xml:id="_pa__mac__core_8h_1abc811b4cd7b56e5e5d4b4613a49d9356"/><section>
    <title>PaMacCore_SetupChannelMap()</title>
<indexterm><primary>PaMacCore_SetupChannelMap</primary><secondary>pa_mac_core.h</secondary></indexterm>
<indexterm><primary>pa_mac_core.h</primary><secondary>PaMacCore_SetupChannelMap</secondary></indexterm>
<para><computeroutput>void PaMacCore_SetupChannelMap (<link linkend="_struct_pa_mac_core_stream_info">PaMacCoreStreamInfo</link> * data, const SInt32 *const channelMap, unsigned long channelMapSize)</computeroutput></para>
<para>call this after pa_SetupMacCoreStreamInfo to use channel mapping as described in notes.txt. 
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>data</entry><entry>
<para>The stream info structure to assign a channel mapping to </para>
</entry>
                            </row>
                            <row>
<entry>channelMap</entry><entry>
<para>The channel map array, as described in notes.txt. This array pointer will be used directly (ie the underlying data will not be copied), so the caller should not free the array until after the stream has been opened. </para>
</entry>
                            </row>
                            <row>
<entry>channelMapSize</entry><entry>
<para>The size of the channel map array. </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
</section>
<anchor xml:id="_pa__mac__core_8h_1a7fa54d8ad032394157bdb67c9b13087d"/><section>
    <title>PaMacCore_SetupStreamInfo()</title>
<indexterm><primary>PaMacCore_SetupStreamInfo</primary><secondary>pa_mac_core.h</secondary></indexterm>
<indexterm><primary>pa_mac_core.h</primary><secondary>PaMacCore_SetupStreamInfo</secondary></indexterm>
<para><computeroutput>void PaMacCore_SetupStreamInfo (<link linkend="_struct_pa_mac_core_stream_info">PaMacCoreStreamInfo</link> * data, unsigned long flags)</computeroutput></para>
<para>Functions Use this function to initialize a paMacCoreStreamInfo struct using the requested flags. Note that channel mapping is turned off after a call to this function. 
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>data</entry><entry>
<para>The datastructure to initialize </para>
</entry>
                            </row>
                            <row>
<entry>flags</entry><entry>
<para>The flags to initialize the datastructure with. </para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>
</section>
</section>
</section>
